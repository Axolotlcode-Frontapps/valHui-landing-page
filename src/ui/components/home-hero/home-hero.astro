---
import { buttonVariants } from "@/ui/shared/button";

import Video from "@/assets/videos/valhui-video.mp4";
---

<section class="section hero-home" id="home">
  <video
    width="100%"
    height="100%"
    autoplay
    loop
    muted
    playsinline
    class="hero-home__video "
  >
    <source src={Video} type="video/mp4" />
  </video>
  <div class="section section__container hero-home__container">
      <div class="hero-home__info">
        <h1 class="hero-home__title">Espacios que impulsan tu negocio</h1>
        <p class="hero-home__description">
          Tu espacio ideal te est치 esperando en Reforma. Renta con ValHui y accede
          a oficinas, locales y terrazas dise침adas para crecer con soporte de
          marketing y visibilidad garantizada.
        </p>
        <div class="hero-home__buttons">
          <a
            href="/#ubicaci칩n"
            class={buttonVariants({
              className: "h-12",
            })}
          >
            Renta un espacio
          </a>
          <a
            href="/#ubicaci칩n"
            class={buttonVariants({
              variant: "ghost",
              className:
                "h-12 bg-[#FFFFFF1A] hover:bg-white/30 border border-[#FFFFFF4D] hover:text-white",
            })}
          >
            Agendar una visita
          </a>
        </div>
      </div>
    </div>
  <!-- <div class="hero-home__overlay"></div> -->
</section>

<style>
  @reference "@/ui/styles/global.css";

  .hero-home {
    @apply px-0 relative;
  }
  .hero-home__video {
    @apply w-full aspect-9/16 md:aspect-video object-cover lg:max-h-[80dvh] ;
  }

  .hero-home__overlay {
    @apply absolute inset-0 bg-linear-to-r from-black/20 via-black/15 to-black/10 z-10;
  }

  .hero-home__container {
    @apply absolute z-0 inset-0 size-full py-22 md:py-24 ;
  }

  .hero-home__info {
    @apply flex flex-col gap-8 text-white max-w-[764px] md:mb-28;
  }

  .hero-home__title {
    @apply font-bold text-5xl lg:text-6xl tracking-[0.26px];
  }

  .hero-home__description {
    @apply text-lg lg:text-xl tracking-[-0.45px] text-white/90 font-normal max-w-[664px];
  }

  .hero-home__buttons {
    @apply flex flex-col md:flex-row gap-4;
  }
</style>


<script>
  addEventListener("DOMContentLoaded", () => {

    const data = document.querySelector(".hero-home");
    const points = document.querySelectorAll(".hero-home__info > *");

    (data as HTMLElement).style.opacity = "0";
    points.forEach((item) => {
      (item as HTMLElement).style.opacity = "0";
    });

    const dataObserver = new IntersectionObserver(
      ([entry]) => {
        if (!entry) return;
        const isVisible = entry.isIntersecting;
        isVisible && data ? data.classList.add("fadeIn") : null;
      },
      { threshold: 0 },
    );
    data && dataObserver.observe(data);

    points.forEach((item, index) => {
      const itemObserver = new IntersectionObserver(
        ([entry]) => {
          if (!entry) return;
          const isVisible = entry.isIntersecting;
          if (isVisible) {
            setTimeout(() => {
              item.classList.add("fadeInFromBottom");
            }, index * 180);
            itemObserver.unobserve(item);
          }
        },
        { threshold: 0 },
      );
      itemObserver.observe(item);
    });
  });
</script>