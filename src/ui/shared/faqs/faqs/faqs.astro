---
import AccordionFaqs from "@/ui/shared/faqs/accordion-faqs/accordion-faqs.astro";

const data = [
	{
		question: "1. ¿Qué espacios puedo rentar en ValHui?",
		answer:
			"Locales comerciales, oficinas, consultorios y terraza para eventos.",
		ordered: false,
		open: true,
	},
	{
		question: "2. ¿Qué requisitos necesito para rentar un espacio?",
		answer:
			"Identificación, comprobante de domicilio, RFC (o en trámite), CFS, aval, un mes de renta y depósito equivalente a un mes.",
		ordered: false,
		open: false,
	},
	{
		question: "3. ¿Puedo rentar si aún no tengo RFC?",
		answer: "Sí. Tienes hasta 2 meses para entregarlo.",
		ordered: false,
		open: false,
	},
	{
		question: "4. ¿Permiten cualquier tipo de negocio?",
		answer:
			"Si, siempre que esté relacionado con bienestar, salud, belleza o servicios compatibles con el concepto del centro que apoyen a resolver la vida diaria de la gente. Además de que esté constituido a las leyes vigentes.",
		ordered: false,
		open: false,
	},
	{
		question:
			"5. ¿Puedo ofrecer más de un tipo de servicio dentro del mismo local?",
		answer:
			"Si, siempre que los giros sean compatibles y se autorice previamente.",
		ordered: false,
		open: false,
	},
	{
		question:
			"6. ¿Qué incluye la cuota de mantenimiento y gastos administrativos?",
		answer:
			"Incluye vigilancia, seguridad, CCTV, limpieza áreas comunes, seguro edificio, fumigación, agua, wifi general, luz áreas comunes.",
		ordered: false,
		open: false,
	},
	{
		question: "7. ¿Cómo puedo agendar una visita o recibir una cotización?",
		answer:
			"Puedes contactarnos desde el sitio web, WhatsApp o el formulario de contacto.",
		ordered: false,
		open: false,
	},
];
---

<section class="section questions" id="faqs">
  <div class="section__container questions__section">
    <h2 class="questions__title">Preguntas Frecuentes</h2>

    <p class="questions__description">
      Encuentra aquí las respuestas a las consultas más frecuentes sobre
      nuestros espacios en renta. ¿Tu duda no aparece? Contáctanos.
    </p>
    <div class="questions__accordions">
      {data.map((item) => <AccordionFaqs {...item} />)}
    </div>
  </div>
</section>

<style>
  @reference "@/ui/styles/global.css";
  .questions {
    @apply w-full text-[#101828] my-10 lg:mt-28 lg:mb-24;
  }
  .questions__section {
    @apply w-full py-10 lg:grid grid-cols-1 max-w-4xl;
  }

  .questions__title {
    @apply text-[36px] max-w-[1000px] mx-auto text-center leading-10 md:text-5xl md:leading-14 text-[#0A0A0A] lg:max-w-[800px] font-bold mt-3 font-Nova;
  }

  .questions__description {
    @apply w-full text-lg max-w-[750px] mx-auto text-center text-[#475467] mt-4 mb-10 lg:mb-16 tracking-[-0.44px];
  }

  .questions__accordions {
    @apply flex flex-col divide-y divide-[#0000001A];
  }
</style>


<script>
  addEventListener("DOMContentLoaded", () => {
    const title = document.querySelector(".questions__title");
    const description = document.querySelector(".questions__description");
    const cards = document.querySelectorAll(".questions__accordions > *");

    (title as HTMLElement).style.opacity = "0";
    cards.forEach((item) => {
      (item as HTMLElement).style.opacity = "0";
    });

    const titleObserver = new IntersectionObserver(
      ([entry]) => {
        if (!entry) return;
        const isVisible = entry.isIntersecting;
        isVisible && title ? title.classList.add("fadeInFromTop") : null;
      },
      { threshold: 0 },
    );
    title && titleObserver.observe(title);

    const descriptionObserver = new IntersectionObserver(
      ([entry]) => {
        if (!entry) return;
        const isVisible = entry.isIntersecting;
        isVisible && description
          ? description.classList.add("fadeInFromTop")
          : null;
      },
      { threshold: 0 },
    );
    description && descriptionObserver.observe(description);

    cards.forEach((item, index) => {
      const itemObserver = new IntersectionObserver(
        ([entry]) => {
          if (!entry) return;
          const isVisible = entry.isIntersecting;
          if (isVisible) {
            setTimeout(() => {
              item.classList.add("fadeInFromBottom");
            }, index * 180);
            itemObserver.unobserve(item);
          }
        },
        { threshold: 0 },
      );
      itemObserver.observe(item);
    });
  });
</script>
